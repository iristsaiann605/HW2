!function(){function n(){arr=[];var n,e;a.find("li").each(function(){n=$(this).find("span").text(),e=!1,$(this).hasClass("is-done")&&(e=!0)}),a.find("span").each(function(){arr.push({text:n,isDone:e})}),localStorage.todoItems.JSON.stringify(arr)}function e(){if(localStorage.todoItems){var n=JSON.parse(localStorage.todoItems);for(i=0;i<n.length;i++)$(t).appendTo(a).find("span").text(n[i])}}var t='<li><input type="text"><span></span></li>',o=$("#add"),s=($(".connected"),$("#placeholder")),a=$(".main"),r=$(".delete"),d=$(".done");o.on("click",function(){$(t).prependTo(a).addClass("is-editing").find("input").focus()}),a.on("keyup","input",function(e){if(13===e.which){var t=$(this),i=t.parents("li");i.find("span").text(t.val()),i.removeClass("is-editing"),n()}}),e(),$(".connected").sortable({tolerance:"pointer",connectWith:".connected"}),a.on("sortstart",function(){s.addClass("is-dragging")}).on("sortstop",function(){s.removeClass("is-dragging")}),r.on("sortreceive",function(e,t){t.item.remove(),s.removeClass("is-dragging"),n()}),d.on("sortreceive",function(n,e){e.item.addClass("is-done").appendTo(a)})}();